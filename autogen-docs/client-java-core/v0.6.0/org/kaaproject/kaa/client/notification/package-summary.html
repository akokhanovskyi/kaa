<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Mon Oct 20 19:48:08 EEST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>org.kaaproject.kaa.client.notification (Kaa Client (Java Core) 0.0.1-SNAPSHOT API)</title>
<meta name="date" content="2014-10-20">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.kaaproject.kaa.client.notification (Kaa Client (Java Core) 0.0.1-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/kaaproject/kaa/client/logging/gen/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../org/kaaproject/kaa/client/persistence/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/kaaproject/kaa/client/notification/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.kaaproject.kaa.client.notification</h1>
<div class="docSummary">
<div class="block">Provides implementation of a notification management.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/NotificationListener.html" title="interface in org.kaaproject.kaa.client.notification">NotificationListener</a></td>
<td class="colLast">
<div class="block">The listener of raw notifications' data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/NotificationManager.html" title="interface in org.kaaproject.kaa.client.notification">NotificationManager</a></td>
<td class="colLast">
<div class="block">Interface for the notifications delivery system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/NotificationProcessor.html" title="interface in org.kaaproject.kaa.client.notification">NotificationProcessor</a></td>
<td class="colLast">
<div class="block">Processes notifications.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/NotificationTopicListListener.html" title="interface in org.kaaproject.kaa.client.notification">NotificationTopicListListener</a></td>
<td class="colLast">
<div class="block">The listener for topics' list updates.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/AbstractNotificationListener.html" title="class in org.kaaproject.kaa.client.notification">AbstractNotificationListener</a>&lt;T extends org.apache.avro.specific.SpecificRecordBase&gt;</td>
<td class="colLast">
<div class="block">Abstract listener for received notifications.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/DefaultNotificationManager.html" title="class in org.kaaproject.kaa.client.notification">DefaultNotificationManager</a></td>
<td class="colLast">
<div class="block">Default <a href="../../../../../org/kaaproject/kaa/client/notification/NotificationManager.html" title="interface in org.kaaproject.kaa.client.notification"><code>NotificationManager</code></a> implementation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/NotificationListenerInfo.html" title="class in org.kaaproject.kaa.client.notification">NotificationListenerInfo</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum Summary table, listing enums, and an explanation">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/NotificationListenerInfo.Action.html" title="enum in org.kaaproject.kaa.client.notification">NotificationListenerInfo.Action</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/kaaproject/kaa/client/notification/UnavailableTopicException.html" title="class in org.kaaproject.kaa.client.notification">UnavailableTopicException</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package org.kaaproject.kaa.client.notification Description">Package org.kaaproject.kaa.client.notification Description</h2>
<div class="block"><p>Provides implementation of a notification management.</p>

  <p>The Kaa Notifications subsystem enables messages delivery from the
  Kaa cluster to endpoints (EP). It is based on auto-generated classes
  according to the topic's notification schema used during SDK generation.</p>

  <p>Notification topics can be mandatory or voluntary. Mandatory topic
  notifications are delivered in an enforced manner. Voluntary topics require
  subscription. It is the responsibility of the client code to register
  the topic update listener and subscribe to voluntary topics.</p>

  <h3>Topics - usage examples</h3>

  <h5>Getting access to the current topic list</h5>
  <pre>
  <code>KaaDesktop kaa = new KaaDesktop();
      KaaClient kaaClient = kaa.getClient();

      // Kaa initialization (profile container,
      // schema and configuration storages etc.)

      NotificationManager notificationManager = kaaClient.getNotificationManager();
      List&lt;Topic&gt; topics = notificationManager.getTopics();

      for (Topic topic : topics) {
          System.out.printf("Id: %s, name: %s, type: %s"
                  , topic.getId(), topic.getName(), topic.getSubscriptionType());
      }
  </code>
  </pre>

  <h5>Topic update subscription</h5>

  <p>If there is need to know about topic list updates, do following
  (<a href="../../../../../org/kaaproject/kaa/client/notification/NotificationTopicListListener.html" title="interface in org.kaaproject.kaa.client.notification"><code>NotificationTopicListListener</code></a>):</p>
  <pre>
  <code>notificationManager.addTopicListListener(new NotificationTopicListListener() {
      \@Override
      public void onListUpdated(List&lt;Topic&gt; topics) {
          for (Topic topic : topics) {
              System.out.printf("Id: %s, name: %s, type: %s"
                      , topic.getId(), topic.getName(), topic.getSubscriptionType());
          }
      }
  });
  </code>
  </pre>

  <p>To remove topic update listener, call
  <a href="../../../../../org/kaaproject/kaa/client/notification/NotificationManager.html#removeTopicListListener(org.kaaproject.kaa.client.notification.NotificationTopicListListener)"><code>NotificationManager.removeTopicListListener(NotificationTopicListListener)</code></a>
  with an appropriate listener.</p>

  <h3>Notifications - usage examples</h3>

  <p>In order to receive notifications, both mandatory or voluntary, there
  should be add an appropriate listener. The listener may be one for all topics.
  Also there is possibility to add listener for specific topic notifications.</p>

  <p>Assume, notification schema has the following form:</p>
  <pre>
  <code>{
          "type": "record",
          "name": "BasicNotification",
          "namespace": "org.kaaproject.kaa.client.example",
          "fields": [
              {
                  "name": "body",
                  "type": "string"
              }
          ]
      }
  </code>
  </pre>

  <p>As mentioned earlier, there is two kind of topics - mandatory and
  voluntary. Further it will be discussed dealing with both of them.</p>

  <h5>Global listener(s) for mandatory topics</h5>

  <p>Below is an example for receiving notifications for all mandatory
  topics:</p>

  <pre>
  <code>public class BasicNotificationListener extends AbstractNotificationListener&lt;BasicNotification&gt; {
          \@Override
          public void onNotification(String topicId, BasicNotification notification) {
              System.out.println("Got notification: " + notification.toString());
          }

          \@Override
          protected Class&lt;BasicNotification&gt; getNotificationClass() {
               return BasicNotification.class;
           }
      }

      ...

      BasicNotificationListener listener = new BasicNotificationListener();

      // Add listener to receive notifications from all mandatory topics
      notificationManager.addMandatoryTopicsListener(listener);

      ...

      // Remove listener
      notificationManager.removeMandatoryTopicsListener(listener);
  </code>
  </pre>

  <h5>Specific listener(s) for mandatory topic</h5>

  <p>To add/remove specific listener(s) for some mandatory topic, do following:</p>

  <pre>
  <code>BasicNotificationListener specificListener = new BasicNotificationListener();
      Map&lt;String, List&lt;NotificationListenerInfo&gt;&gt; subscriptions = new HashMap&lt;&gt;();

      // Add specific listener
      subscriptions.put("some_mandatory_topic_id", Arrays.asList(
              new NotificationListenerInfo(specificListener, NotificationListenerInfo.Action.ADD)));

      // Remove specific listener
      subscriptions.put("another_mandatory_topic_id", Arrays.asList(
                  new NotificationListenerInfo(anotherSpecificListener
                              , NotificationListenerInfo.Action.REMOVE)));

      notificationManager.updateTopicSubscriptions(subscriptions);
  </code>
  </pre>

  <h5>Voluntary topic (un)subscription</h5>

  <p>To subscribe on updates for some voluntary topic, at least one listener
  should be added for it. Number of listeners for the same topic is unlimited.
  To unsubscribe from some voluntary topic, all listeners for it should be
  removed.</p>

  <p>Steps for (un)subscription are equal to previous example.</p></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/kaaproject/kaa/client/notification/AbstractNotificationListener.html" title="class in org.kaaproject.kaa.client.notification"><code>AbstractNotificationListener</code></a>, 
<a href="../../../../../org/kaaproject/kaa/client/notification/NotificationTopicListListener.html" title="interface in org.kaaproject.kaa.client.notification"><code>NotificationTopicListListener</code></a>, 
<a href="../../../../../org/kaaproject/kaa/client/notification/NotificationListenerInfo.html" title="class in org.kaaproject.kaa.client.notification"><code>NotificationListenerInfo</code></a>, 
<a href="../../../../../org/kaaproject/kaa/client/notification/NotificationManager.html" title="interface in org.kaaproject.kaa.client.notification"><code>NotificationManager</code></a>, 
<code>Topic</code></dd></dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/kaaproject/kaa/client/logging/gen/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../org/kaaproject/kaa/client/persistence/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/kaaproject/kaa/client/notification/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All rights reserved.</small></p>
</body>
</html>
